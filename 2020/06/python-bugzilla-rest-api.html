<!DOCTYPE html>
<!-- Generated 2020-06-29 18:17:51.603248 -->
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-142995745-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-142995745-1');
    </script>
    <link rel="canonical" href="https://blog.wikichoon.com/2020/06/python-bugzilla-rest-api.html"/>
      <title>python-bugzilla REST API support | Cole Robinson</title>
      <meta charset="utf-8" />
      <link href="https://blog.wikichoon.com/theme/minima-main.css" rel="stylesheet" />
      <link href="https://blog.wikichoon.com/theme/coletheme.css" rel="stylesheet" />
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="https://blog.wikichoon.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Cole Robinson Full Atom Feed" />
  </head>

  <body id="index" class="archive">
    <header class="site-header">
      <div class="wrapper">
        <a class="site-title" href="https://blog.wikichoon.com">Cole Robinson</a>
        <nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
              </svg>
            </span>
          </label>
          <div class="trigger">
            <a class="page-link" href="https://blog.wikichoon.com">Home</a>
            <a class="page-link" href="https://blog.wikichoon.com/archives.html">Archives</a>
            <a class="page-link" href="https://wikichoon.com">About</a>
          </div>
        </nav>
      </div>
    </header>

    <main id="content" class="page-content">
      <div class="wrapper">
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
        <header>
          <h1 class="post-title givemecolor" itemprop="name headline">python-bugzilla REST API support</h2>
          <p class="post-meta">
            <time class="dt-published" datetime="2020-06-29T13:00:00-04:00" itemprop="datePublished">Mon 29 June 2020
            </time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Cole Robinson</span>
            </span> • Tags: <a href="https://blog.wikichoon.com/tag/fedora.html">fedora</a>           </p>
        </header>

        <div class="post-content" itemprop="articleBody">
          <p>I just released <strong><a href="https://github.com/python-bugzilla/python-bugzilla">python-bugzilla</a> 2.4.0</strong>. The main interesting bit it adds is support for <a href="https://wiki.mozilla.org/Bugzilla:REST_API">Bugzilla's REST API</a>.</p>
<p>All previous versions of python-bugzilla and <code>/usr/bin/bugzilla</code> only used the XMLRPC API, but that is deprecated in Bugzilla 5.0+ and all new API development is taking place on the REST API.</p>
<p>In practice there isn't any released bugzilla version that has big differences between the two API versions. On bugzilla.redhat.com specifically the XMLRPC API is still recommended, because some custom features are not available over REST yet. Note though that bugzilla.mozilla.org is looking at <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1599274">disabling the XMLRPC API entirely</a>, but they are usually ahead of the Bugzilla curve.</p>
<p>By default, python-bugzilla will use some URL parsing heuristics to try to guess if the
passed URL is for XMLRPC or REST.</p>
<ul>
<li>If URL contains <code>/xmlrpc</code>, assume XMLRPC</li>
<li>If URL contains <code>/rest</code>, assume REST</li>
<li>If the URL does not contain a path:<ul>
<li>Try appending <code>/xmlrpc.cgi</code> and if the URL exists, use it</li>
<li>Try appending <code>/rest</code> and if the URL exists, use it</li>
</ul>
</li>
<li>Otherwise just attempt to initialize the XMLRPC backend</li>
</ul>
<p>In practice this should mean previously used URLs will continue to use XMLRPC.</p>
<p>The <code>Bugzilla</code> API class also <code>force_rest</code> and <code>force_xmlrpc</code> init arguments to
force use of a specific API for the passed URL. Whether REST or XMLRPC is used
the existing API should continue to work as expected, it's simply a backend detail.</p>
<p>From <code>/usr/bin/bugzilla</code> there aren't any explicit command line options to force
use of one API or the other. If you pass a URL with an explicit <code>/rest</code> or
<code>/xmlrpc.cgi</code> then the API will pick the correct backend based on the heuristic
above. If your URL has a weirdly named REST API endpoint you can probably trick
the heuristic with a funky URL like <code>https://fakebz.example.com/weird-rest-endpoint?/rest</code></p>
        </div>

        <div id="disqus_thread"></div>
        <script>
          var disqus_config = function () {
            this.page.url = 'https://blog.wikichoon.com/2020/06/python-bugzilla-rest-api.html';
            this.page.identifier = 'https://blog.wikichoon.com/2020/06/python-bugzilla-rest-api.html';
          };

          (function() {
            var d = document, s = d.createElement('script');
            s.src = 'https://wikichoon-com.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </article>
      </div>
    </main>

    <footer class="site-footer h-card">
      <div class="wrapper">
        <h2 class="footer-heading">Cole's dev log</h2>
        <div class="footer-col-wrapper">
          <div class="footer-col footer-col-1">
            <ul class="contact-list">
                <li class="p-name">Cole Robinson </li><li><a class="u-email" href="mailto:">aintdiscole@gmail.com</a></li>
            </ul>
          </div>

          <div class="footer-col footer-col-2">
            <ul class="social-media-list">
              <li><a href="https://github.com/crobinso"><svg class="svg-icon"><use xlink:href="https://blog.wikichoon.com/theme/minima-social-icons.svg#github"></use></svg> <span class="username">crobinso</span></a></li>
              <li><a href="https://www.twitter.com/aintdiscole"><svg class="svg-icon"><use xlink:href="https://blog.wikichoon.com/theme/minima-social-icons.svg#twitter"></use></svg> <span class="username">aintdiscole</span></a></li>
              <li><a href="https://www.linkedin.com/in/cole-robinson-484a9912"><svg class="svg-icon"><use xlink:href="https://blog.wikichoon.com/theme/minima-social-icons.svg#linkedin"></use></svg> <span class="username">Cole Robinson</span></a></li>
            </ul>
          </div>

          <div class="footer-col footer-col-3">
            <a href="https://blog.wikichoon.com/feeds/all.atom.xml">RSS</a>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>